{% load django_bootstrap5 %}

<div class="card shadow-sm" id="task-form-card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <div>
      <p class="text-uppercase text-muted small mb-0">Task</p>
      <h2 class="h5 mb-0">{{ task.title }}</h2>
    </div>
  </div>
  <div class="card-body">
    {% if saved %}<div class="alert alert-success py-2 mb-3">Task saved.</div>{% endif %}
    <form
      id="task-form"
      method="post"
      action="{% url 'edit_task' task.id %}"
      hx-post="{% url 'edit_task' task.id %}"
      hx-target="#task-form-card"
      hx-swap="outerHTML"
      class="d-flex flex-column gap-3"
    >
      {% csrf_token %}
      {% bootstrap_form form layout="horizontal" %}
      <div class="d-flex justify-content-end gap-2">
        <a class="btn btn-outline-secondary" href="{% url 'task_board' %}">Cancel</a>
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </form>
  </div>
</div>
